<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <title>일회용도서관을 탈출하라</title>
    <script src="jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-rwdImageMaps/1.6/jquery.rwdImageMaps.min.js"></script>
    <script src="jquery.cookie.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Ropa+Sans" rel="stylesheet">
    <link rel="stylesheet" href="main.css?v=2">
</head>
<body>
    <div style="position: relative; text-align: center;">
        <img src="img/mission/003.jpg" usemap="#image-map" style="width: 100%;" />
        <div style="position: absolute; top: 0%; left: 0%; width: 100%; height: 90%;">
            <input type="text" id="input01" style="position: absolute; top: 57.9%; left: 26.5%; width: 47%; height: 4.6%;" />
            <input type="text" id="input02" style="position: absolute; top: 65.7%; left: 26.5%; width: 47%; height: 4.6%;" />
            <input type="text" id="input03" style="position: absolute; top: 73.9%; left: 26.5%; width: 47%; height: 4.6%;" />
        </div>
        <map name="image-map">
            <area target="_self" title="" href="javascript:void(0);" onclick="checkQuiz();" coords="894,1750,1027,1883" shape="rect" />
        </map>
    </div>
  <script>
    if (document.location.protocol == 'http:') {
        document.location.href = document.location.href.replace('http:', 'https:');
    }
    </script>
</body>
</html>

<script type="text/javascript">
    $(document).ready(function() {
        $('img[usemap]').rwdImageMaps();
    });

    function checkQuiz() {
        const libMap = {
            '연수청학도서관': true,
            '연수꿈담도서관': true,
            '송도국제어린이도서관': true,
            '해돋이도서관': true,
            '선학별빛도서관': true,
            '동춘나래도서관': true,
            '함박비류도서관': true,
            '솔안공원작은도서관': true,
            '문화공원작은도서관': true,
            '해찬솔공원작은도서관': true,
            '누리공원작은도서관': true,
            '옥련1동작은도서관': true,
            '옥련2동어린이작은도서관': true,
            '연수1동작은도서관': true,
            '송도2동작은도서관': true,
            '송도3동작은도서관': true,
            '송도5동작은도서관': true,
        };

        let input01 = $('#input01').val();
        let input02 = $('#input02').val();
        let input03 = $('#input03').val();

        let isExistLib01 = libMap[input01];

        if (!isExistLib01) {
            alert('첫번째 칸에 도서관 이름을 정확하게 입력해주세요.');
            return false;
        }
        let isExistLib02 = libMap[input02];
        if (!isExistLib02) {
            alert('두번째 칸에 도서관 이름을 정확하게 입력해주세요.');
            return false;
        }
        let isExistLib03 = libMap[input03];
        if (!isExistLib03) {
            alert('세번째 칸에 도서관 이름을 정확하게 입력해주세요.');
            return false;
        }

        if (input01 === input02 || input01 === input03 || input02 === input03) {
            alert('각 칸에 중복되지 않는 도서관 이름을 입력해주세요.');
            return false;
        }

        if (isExistLib01 && isExistLib02 && isExistLib03) {
            $.cookie('quiz01', true, { expires : 1 });
            alert('축하합니다. 다음 단계로 도전하세요.');
            location.href = 'escapelib.html';
        }
    }
</script>